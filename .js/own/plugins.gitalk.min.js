$docsify.plugins = [].concat(function (i) {
    var e = Docsify.dom;
    i.mounted(function (i) {
        var n = e.create("div");
        n.id = "gitalk-container";
        var t = e.getNode("#main");
        n.style = "width: " + t.clientWidth + "px; margin: 0 auto 20px;", e.appendTo(e.find(".content"), n)
    }), i.afterEach(function (i) {
        for (var n = document.getElementById(
                "gitalk-container"); n.hasChildNodes();) {
            n.removeChild(n.firstChild);
        };
        var gitalk = new Gitalk({
            clientID: '381baf0bd6252c1a156f',
            clientSecret: '8d1dd2057c4f02315e8aba569ed7cfe34538c043',
            repo: 'PythonNote_Gitalk',
            owner: 'wan230114',
            admin: ['wan230114'],
            title: location.hash.match(/#(.*?)([?]|$)/)[1],
            id: location.hash.match(/#(.*?)([?]|$)/)[1],
            distractionFreeMode: false // Facebook-like distraction free mode
        });
        gitalk.render("gitalk-container");
        // return i + text1 + '<iframe src="./.js/test.html" id="iframe" src="index.html" frameborder="0"  style="border: 0px;"></iframe>'
    })
}, $docsify.plugins);
// 监听URL中hash的变化，如果发现换了一个MD文件，那么刷新页面，解决整个网站使用一个gitalk评论issues的问题。
window.onhashchange = function (event) {
    if (event.newURL.split('#')[1] == "/") {
        location.reload()
    };
}